grep

```

#统计pwd.txt 文本中，有多少行root有关的
	grep -i "root" ./pwd.txt -c   #-i 忽略大小写 、 -c  计数

#找出pwd.txt 文本中，所有的空行
	grep '^$' ./pwd.txt -n     #-n  显示行号

#找出pwd.txt 文本中，除了的空行，的有效信息
	grep '^$' ./pwd.txt -n -v  #-v  反转结果  -o 显示关键相关的信息

#找出pwd.txt 文本中，除了的空行和#开头的，的有效信息
	grep '^#' ./pwd.txt -v | grep '^$' -v  # | 二次过滤
  
#显示文本的所有信息
	cat -En luffy.txt   #linux文件系统下，每一行都有一个$结尾，包括空行  '\' 转义字符

#找出和s相关的字符
	grep '.s' luffy.txt

#找出以e结尾，【贪婪匹配】
	grep '.*e' luffy.txt
 


 
```



### sed

##### 注意sed和awk使用单引号，双引号有特殊解释

sed是操作、过滤和转换文本内容的强大工具 【一次处理一行】；对文本内容进行过滤、筛选

 

语法

```
	sed [选项] [sed内置命令字符] [输入文件]
```

选项

| 参数选项 | 解释                                                   |
| -------- | ------------------------------------------------------ |
| -n       | 取消默认sed输出，常与sed内置命令p一起使用              |
| -i       | 直接将修改结果写入文件，不用-i,sed修改的是内存里的数据 |
| -e       | 多次编辑，不需要管道符                                 |
| -r       | 支持正则扩展                                           |

sed的  内置命令字符  用于对文件进行不同的操作功能，如文件的增删改查

sed常用  内置命令字符

| sed的内置命令字符 | 解释                                                      |
| ----------------- | --------------------------------------------------------- |
| a                 | append,  对文本追加，在指定行后面添加一行或多行文本       |
| d                 | Delete,   删除匹配行                                      |
| i                 | insert，  表示插入文本，在指定行前添加一行或多行文本      |
| p                 | print,  打印匹配的内容，通常p与 -n 一起使用               |
| s/正则/替换内容/g | 匹配正则内容，然后替换内容（支持正则），结尾g代表全局匹配 |

sed匹配范围

| 范围      | 解释                                                         |
| --------- | ------------------------------------------------------------ |
| 空地址    | 全文处理                                                     |
| 单地址    | 指定文件某一行                                               |
| /pattern/ | 被模式匹配到的每一行                                         |
| 范围区间  | 10,20  10到20行  ； 10，+5 第10行往下5行  ；/pattern1/,/pattern2/ |
| 步长      | 1~2: 表示1,3,5,7,9行；   2~2: 表示2,4,6,8,10 偶数行          |

sed使用

```
demo
#打印输出文件 第2,第3行
	sed -n '2,3p' luffy.txt
#打印从第2行，往下输出3行
	sed -n '2,+3p' luffy.txt

过滤出含有Linux字符串行
#sed可以实现grep的过滤效果，必须把要过滤的内容放在双斜杠中
	sed -n '/linux/p' luffy.txt

删除含有game的行
注意sed想要修改文件内容，还得使用-i参数
	sed '/game/d' luffy.txt -i   #不使用-i只修改存里数据
#从第4行删除到最后一行
	sed '4,$d' luffy.txt -i
	
	
将文件中的My替换为His
s内置符配合g，代表全局替换，中间的"/"可以替换成“#@/”等
	sed 's/My/His/g' luffy.txt -i   #sed 's/你想找到的内容/你想替换的内容/g'  's###' 's@@@'  三个功能一样可以替换
#多次编辑，同时替换,多次替换用法   
    sed -e 's/My/His/g' -e's/8776/110/g' luffy.txt -i 
    
在文件第2行追加内容a字符功能，写入到文件，还得添加-i
	sed -i '2a i am chinese!' luffy.txt 
#在文件第4行插入一行  
	sed '4i My name is lin.' luffy.txt -i
	sed '4i My name is lin.\nhello world!' luffy.txt -i  #插入两行数据\n换行符

#在每一行加入分割线--------------
	sed 'a -------------' uffy.txt -i  #a后空格表示全文处理

#取出ipconfig 中的IP地址
	ifconfig eth0 | sed '2p' -n | sed 's/^.*inet//' | sed 's/net.*$//'  #配合使用正则表达式
 	ifconfig eth0 | sed -e '2p' -n -e 's/^.*inet//' -e 's/net.*$//'   #使用-e参数

 
```

